/*! Thrive Ultimatum - 2017-11-29
* http://www.thrivethemes.com/
* Copyright (c) 2017 Thrive Themes */

!function(a){"use strict";var b,c,d,e,f,g={".js":[],".json":[],".css":[],".html":[]},h="function"==typeof require?require:null;return e=function(a){var b=new Error("Could not find module '"+a+"'");return b.code="MODULE_NOT_FOUND",b},f=function(a,b,c){var d,e;if("function"==typeof a[b+c])return b+c;for(d=0;e=g[c][d];++d)if("function"==typeof a[b+e])return b+e;return null},b=function(a,d,g,h,i,j){var k,l,m,n,o,p;for(g=g.split("/"),k=g.pop(),"."!==k&&".."!==k||(g.push(k),k="");null!=(l=g.shift());)if(l&&"."!==l&&(".."===l?(a=d.pop(),j=j.slice(0,j.lastIndexOf("/"))):(d.push(a),a=a[l],j+="/"+l),!a))throw e(h);if(k&&"function"!=typeof a[k]&&(p=f(a,k,".js"),p||(p=f(a,k,".json")),p||(p=f(a,k,".css")),p||(p=f(a,k,".html")),p?k=p:2!==i&&"object"==typeof a[k]&&(d.push(a),a=a[k],j+="/"+k,k="")),!k)return 1!==i&&a[":mainpath:"]?b(a,d,a[":mainpath:"],h,1,j):b(a,d,"index",h,2,j);if(!(o=a[k]))throw e(h);return o.hasOwnProperty("module")?o.module.exports:(m={},o.module=n={exports:m,id:j+"/"+k},o.call(m,m,n,c(a,d,j)),n.exports)},d=function(c,d,f,g){var i,j=f,k=f.charAt(0),l=0;if("/"===k){if(j=j.slice(1),!(c=a["/"])){if(h)return h(f);throw e(f)}g="/",d=[]}else if("."!==k){if(i=j.split("/",1)[0],!(c=a[i])){if(h)return h(f);throw e(f)}g=i,d=[],j=j.slice(i.length+1),j||(j=c[":mainpath:"],j?l=1:(j="index",l=2))}return b(c,d,j,f,l,g)},(c=function(a,b,c){return function(e){return d(a,[].concat(b),e,c)}})(a,[],"")}({workspace:{"tcb-bridge":{assets:{js:{external:{"main.js":function(exports,module,require){eval("/**\n * Created by Ovidiu on 7/20/2017.\n */\nvar TVE = window.TVE || {},\n\tTVE_Ult_Ext = window.TVE_Ult_Ext = TVE_Ult_Ext || {};\n\n(function ( $ ) {\n\t/**\n\t * On TCB Main Ready\n\t */\n\t$( document ).on( 'tcb_main_ready', function () {\n\t\tTVE.Views.Components.ultimatum_countdown = require( './ultimatum-countdown-component' );\n\n\t\tTVE_Ult_Ext.UltimatumCountdown = require( './modals/ultimatum-countdown' );\n\t} );\n})( jQuery );\n//# sourceURL=workspace/tcb-bridge/assets/js/external/main.js")},modals:{"ultimatum-countdown.js":function(exports,module,require){eval("/**\n * Created by Ovidiu on 7/20/2017.\n */\nvar _instance = null,\n\tshortcode_base = TVE.shortcode_manager;\nmodule.exports = TVE.modal.base.extend( {\n\tafter_initialize: function () {\n\t\tthis.$el.addClass( 'medium' );\n\t\tthis.$campaign = this.$el.find( '#tve_ult_campaign' );\n\t\tthis.$shortcode = this.$el.find( '#tve_ult_shortcode' );\n\t},\n\tbefore_open: function () {\n\t\tif ( ! TVE.ActiveElement.hasClass( 'tcb-elem-placeholder' ) ) {\n\t\t\tvar _config = this.get_config();\n\t\t\tif ( typeof _config['tve_ult_campaign'] !== 'undefined' && typeof _config['tve_ult_shortcode'] !== 'undefined' ) {\n\t\t\t\tthis.$campaign.val( _config['tve_ult_campaign'] ).trigger( 'change' );\n\t\t\t\tthis.$shortcode.val( _config['tve_ult_shortcode'] );\n\t\t\t}\n\t\t}\n\t},\n\t/**\n\t * Returns Ultimatum Shortcode Settings\n\t *\n\t * @returns {*}\n\t */\n\tget_config: function () {\n\t\tvar shortcode_config = shortcode_base( TVE.ActiveElement.find( '.thrive-shortcode-config' ), 'ultimatum_shortcode' );\n\n\t\treturn shortcode_config.get();\n\t},\n\tcampaign_changed: function ( event, dom ) {\n\t\tvar _$shortcode = this.$shortcode;\n\n\t\t_$shortcode.html( '' );\n\t\tif ( dom.value ) {\n\t\t\tjQuery.each( tve_ult_page_data.tu_shortcode_campaigns[dom.value].designs, function ( id, name ) {\n\t\t\t\tvar $option = jQuery( '<option/>' ).text( name ).val( id );\n\t\t\t\t_$shortcode.append( $option );\n\t\t\t}, this );\n\t\t}\n\t},\n\tgenerate_countdown_html: function () {\n\t\tvar self = this,\n\t\t\t$target = TVE.ActiveElement;\n\n\t\tthis.countdown_ajax( {\n\t\t\ttve_ult_campaign: this.$campaign.val(),\n\t\t\ttve_ult_shortcode: this.$shortcode.val()\n\t\t} ).done( function ( response ) {\n\t\t\tif ( response ) {\n\t\t\t\t$target.html( response ).removeClass( 'tcb-elem-placeholder' );\n\t\t\t}\n\t\t} ).error( function ( error ) {\n\t\t\tTVE.page_message( error.responseText, 2, 5000 );\n\t\t} ).complete( function () {\n\t\t\tTVE.main.overlay( 'close' );\n\t\t\tself.close();\n\t\t} );\n\n\t},\n\tcountdown_ajax: function ( data, ajax_param ) {\n\t\tvar params = {\n\t\t\ttype: 'post',\n\t\t\tdataType: 'json',\n\t\t\turl: tve_ult_page_data.ajaxurl\n\t\t};\n\t\tTVE.main.overlay();\n\t\tdata.action = 'tve_ult_fetch_countdown_for_editor';\n\t\tdata._nonce = tve_ult_page_data.security;\n\t\tparams.data = data;\n\n\t\tif ( ajax_param ) {\n\t\t\tfor ( var k in ajax_param ) {\n\t\t\t\tparams[k] = ajax_param[k];\n\t\t\t}\n\t\t}\n\n\t\treturn jQuery.ajax( params, data );\n\t}\n}, {\n\t/**\n\t * \"Singleton\" implementation for modal instance\n\t *\n\t * @param el\n\t */\n\tget_instance: function ( el ) {\n\t\tif ( ! _instance ) {\n\t\t\t_instance = new TVE_Ult_Ext.UltimatumCountdown( {\n\t\t\t\tel: el\n\t\t\t} );\n\t\t}\n\n\t\treturn _instance;\n\t}\n} );\n//# sourceURL=workspace/tcb-bridge/assets/js/external/modals/ultimatum-countdown.js")}},"ultimatum-countdown-component.js":function(exports,module,require){eval("/**\n * Created by Ovidiu on 7/20/2017.\n */\nmodule.exports = TVE.Views.Base.component.extend( {\n\tcontrols_init: function () {\n\t},\n\tplaceholder_action: function () {\n\t\tvar campaignShortcodes = TVE_Ult_Ext.UltimatumCountdown.get_instance( TVE.modal.get_element( 'campaign-shotcodes' ) );\n\t\tcampaignShortcodes.open( {\n\t\t\ttop: '20%'\n\t\t} );\n\t},\n\t/**\n\t * Callback for change countdown button inside the Ultimatum Countdown Options Menu\n\t */\n\tchange_countdown: function () {\n\t\tthis.placeholder_action();\n\t}\n} );\n//# sourceURL=workspace/tcb-bridge/assets/js/external/ultimatum-countdown-component.js")}}}}}}})("workspace/tcb-bridge/assets/js/external/main");